<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
   
		<title>
			Лабораторна №5
		</title>
	</head>
	<body>
		<p id="rez"></p>	
		<div>
			<p id="start">Щоб розпочати тестування натисніть на кнопку 'наступне завдання'.</p>
			<button onclick="next()">наступне завдання</button><br>
			<p id="question"></p>
			<input type="radio" class = "u" name="test" id="q1" onchange="check()"><label id="answ1"></label><br>
			<input type="radio" class = "u" name="test" id="q2" onchange="check()"><label id="answ2"></label><br>
			<input type="radio" class = "u" name="test" id="q3" onchange="check()"><label id="answ3"></label><br>
			<input type="radio" class = "u" name="test" id="q4" onchange="check()"><label id="answ4"></label><br>
			<p id="answer"></p>
		</div>

		<script>
			var number1, number2;
			var answer1, answer2, answer3, answer4;
			var rand;
			var count = 0, count_rght = 0, rezult;
			function next(){
				$("#start").html("");
				$("#q1").prop('disabled', false);
				$("#q2").prop('disabled', false);
				$("#q3").prop('disabled', false);
				$("#q4").prop('disabled', false);
								

				$("#answer").html("");
				$("#q1").prop('checked', false);
				$("#q2").prop('checked', false);
				$("#q3").prop('checked', false);
				$("#q4").prop('checked', false);
				number1 = Math.floor( Math.random() * (10 - 1 + 1) ) + 1;
				number2 = Math.floor( Math.random() * (10 - 1 + 1) ) + 1;
				$("#question").html(number1 + '×' + number2 + ' ='); 
				answer1 = number1*number2;
				answer2 = answer1*2;
				answer3 = answer1*3;
				answer4 = answer1+11;
				rand = Math.floor( Math.random() * (4 - 1 + 1) ) + 1;
				switch(rand)
				{
					case 1:
						$("#answ1").html(answer1);
						$("#answ2").html(answer2);
						$("#answ3").html(answer3);
						$("#answ4").html(answer4);
						break;

					case 2:
						$("#answ1").html(answer2);
						$("#answ2").html(answer1);
						$("#answ3").html(answer3);
						$("#answ4").html(answer4);
						break;

					case 3:
						$("#answ1").html(answer3);
						$("#answ2").html(answer2);
						$("#answ3").html(answer1);
						$("#answ4").html(answer4);
						break;

					case 4:
						$("#answ1").html(answer4);
						$("#answ2").html(answer2);
						$("#answ3").html(answer3);
						$("#answ4").html(answer1);
						break;

				}
			}

			function check(){
				
				switch(rand)
				{
					case 1:
						if($("#q1").is(':checked'))
						{

							$("#answer").html("Правильно.");
							count++;
							count_rght++;
						}
						else
						{
							$("#answer").html("Помилка, правильна відповідь «" + answer1 + "»");
							count++;
						}
						break;

					case 2:
						if($("#q2").is(':checked'))
						{
							$("#answer").html("Правильно.");
							count++;
							count_rght++;
						}
						else
						{
							$("#answer").html("Помилка, правильна відповідь «" + answer1 + "»");
							count++;
						}
						break;

					case 3:
						if($("#q3").is(':checked'))
						{
							$("#answer").html("Правильно.");
							count++;
							count_rght++;
						}
						
						else{
							$("#answer").html("Помилка, правильна відповідь «" + answer1 + "»");
							count++;
						}
						break;

					case  4:
						if($("#q4").is(':checked')){
							$("#answer").html("Правильно.");
							count++;
							count_rght++;
						}
						else{
							$("#answer").html("Помилка, правильна відповідь «" + answer1 + "»");
							count++;
						}
						break;
				}

				$("#q1").prop('disabled', true);
				$("#q2").prop('disabled', true);
				$("#q3").prop('disabled', true);
				$("#q4").prop('disabled', true);
				
				rezult = (count_rght * 100) / count;
				$("#rez").html( "Загальний рахунок " + Math.floor(rezult)+ "%" + " (" + count_rght + " правильных відповідей з "+ count + ")");
			}
		</script>
	</body>
</html>